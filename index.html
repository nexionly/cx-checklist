
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customer Experience Essentials Checklist</title>
    <meta name="description" content="Your actionable guide to building a high-performing CX team from the ground up" />
    <meta name="author" content="Lovable" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./lovable-uploads/0df88fe6-f553-4e89-947f-9a9315c68ad3.png" />
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="Customer Experience Essentials Checklist" />
    <meta property="og:description" content="Your actionable guide to building a high-performing CX team from the ground up" />
    <meta property="og:image" content="./lovable-uploads/bc423a57-6799-4c80-a2f6-d8a2ef92d1df.png" />
    <meta property="og:type" content="website" />
  </head>

  <body>
    <div id="root">
      <!-- Loading fallback -->
      <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background-color: #f9fafb; font-family: system-ui, -apple-system, sans-serif;">
        <div style="text-align: center; max-width: 400px; padding: 2rem;">
          <div style="margin-bottom: 1.5rem;">
            <div style="display: inline-block; width: 3rem; height: 3rem; border: 3px solid #e5e7eb; border-top: 3px solid #3b82f6; border-radius: 50%; animation: spin 1s linear infinite;"></div>
          </div>
          <h2 style="color: #1f2937; margin-bottom: 0.5rem; font-size: 1.25rem;">Loading Customer Experience Checklist...</h2>
          <p style="color: #6b7280; font-size: 0.875rem; margin-bottom: 1rem;">Please wait while we prepare your comprehensive CX team building guide.</p>
          <div id="loading-status" style="color: #9ca3af; font-size: 0.75rem;">Initializing application...</div>
        </div>
      </div>
      <style>
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      </style>
    </div>
    
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Error handling and debugging -->
    <script>
      // Debug info
      console.log('Environment Debug Info:');
      console.log('- URL:', window.location.href);
      console.log('- Base:', document.baseURI);
      console.log('- Protocol:', window.location.protocol);
      console.log('- Host:', window.location.host);
      console.log('- Pathname:', window.location.pathname);
      
      function updateLoadingStatus(message) {
        const statusEl = document.getElementById('loading-status');
        if (statusEl) {
          statusEl.textContent = message;
        }
      }

      updateLoadingStatus('Loading scripts...');
      
      // Monitor script loading
      const scripts = document.querySelectorAll('script[src]');
      let loadedScripts = 0;
      
      scripts.forEach((script, index) => {
        script.addEventListener('load', () => {
          loadedScripts++;
          console.log(`✓ Script ${index + 1} loaded:`, script.src);
          updateLoadingStatus(`Scripts loaded: ${loadedScripts}/${scripts.length}`);
        });
        
        script.addEventListener('error', (event) => {
          console.error(`✗ Script ${index + 1} failed:`, script.src);
          updateLoadingStatus(`Script loading failed - check console`);
        });
      });
      
      // App mount timeout
      const mountTimeout = setTimeout(() => {
        const root = document.getElementById('root');
        if (root && root.children.length <= 1) {
          console.error('App mount timeout - failed to load within 10 seconds');
          updateLoadingStatus('App failed to load - refreshing...');
          setTimeout(() => window.location.reload(), 2000);
        }
      }, 10000);

      // Clear timeout when app loads
      const observer = new MutationObserver((mutations) => {
        const root = document.getElementById('root');
        if (root && root.children.length > 1) {
          clearTimeout(mountTimeout);
          observer.disconnect();
          console.log('✓ React app mounted successfully');
        }
      });

      observer.observe(document.getElementById('root'), { childList: true });

      // Global error handling
      window.addEventListener('error', (event) => {
        console.error('Global error:', {
          message: event.message,
          filename: event.filename,
          lineno: event.lineno,
          colno: event.colno,
          error: event.error
        });
        
        if (event.target && event.target.tagName === 'SCRIPT') {
          updateLoadingStatus('Script error - check console');
        }
      });

      window.addEventListener('unhandledrejection', (event) => {
        console.error('Unhandled promise rejection:', event.reason);
        updateLoadingStatus('Application error - check console');
      });
    </script>
  </body>
</html>
